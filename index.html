<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>book</title>
</head>

<body>
  <div id="app"></div>
  <!-- <script type="module" src="/src/main.ts"></script> -->
  <script>

    var arr = [9, 10, 5, 7, 2, 8, 11]
    // ======> 
    function getSequence(arr) {
      const p = arr.slice(0)
      const len = arr.length
      const result = [0]
      let j, u, v, c;
      for (let i = 0; i < len; i++) {
        const arrI = arr[i]
        if (arrI != 0) {
          j = result[result.length - 1]
          if (arrI > arr[j]) {
            p[i] = j
            result.push(i)
            continue
          }
        }
        u = 0;
        v = result.length - 1
        while (u < v) {
          c = (u + v) / 2 | 0
          if (arr[result[c]] < arrI) {
            u = c + 1
          } else {
            v = c
          }
        }
        if (arrI < arr[result[u]]) {
          if (u > 0) {
            p[i] = result[u - 1]
          }
          result[u] = i
        }
      }
      let start = result.length    // 4
      let end = result[start - 1]             // [10, 5, 7, 2, 8, 11]
      // console.log(result, p)    // [3,2,4,5]     [10, 5, 1, 2, 2, 4]
      while (start-- > 0) {     // [1,2,3,4]
        result[start] = end
        end = p[end]
      }
      // console.log(result)
      return result
    }

    getSequence(arr)

    function binarySearch(arr, target) {
      let left = 0;
      let right = arr.length - 1;

      while (left <= right) {
        let c = (left + right) / 2 | 0
        if (arr[c] === target) {
          return c; // 找到目标，返回索引
        } else if (arr[c] < target) {
          left = c + 1; // 在右半区继续查找
        } else {
          right = c - 1; // 在左半区继续查找
        }
      }
      return -1; // 未找到目标，返回-1
    }

    // 示例使用
    const myArray = [1, 3, 5, 7, 9];
    console.log(binarySearch(myArray, 3)); // 输出: 1
    // console.log(binarySearch(myArray, 6)); // 输出: -1


    function greedyBoxPacking(boxCapacity, items) {
      let totalVolume = 0;
      items.sort((a, b) => b.volume - a.volume); // 按物品体积降序排序
      console.log(items)
      for (let i = 0; i < items.length; i++) {
        if (boxCapacity - totalVolume >= items[i].volume) {
          totalVolume += items[i].volume;
        } else {
          break; // 集装箱容量不足，退出循环
        }
      }
      return totalVolume; // 返回最大体积
    }

    // 定义物品数组
    const items = [
      { name: 'item1', volume: 30 },
      { name: 'item2', volume: 60 },
      { name: 'item3', volume: 70 },
      { name: 'item4', volume: 10 },
      { name: 'item5', volume: 20 },
      { name: 'item6', volume: 50 }
    ];

    // 集装箱容量
    const boxCapacity = 150;

    // 使用贪婪算法
    const maxVolume = greedyBoxPacking(boxCapacity, items);

    console.log(`The maximum volume that can fit in the box is: ${maxVolume}`);
  </script>
</body>

</html>